<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #sidenav mode="side" opened class="example-sidenav"

  >
    <mat-toolbar class="colors">
   </mat-toolbar >
    <mat-nav-list>
      <a mat-list routerLink="#"> </a>

      <a mat-list-item routerLink="/inicio" 
        ><i class="material-icons">&#xE88A;</i> Inicio</a
      >

      <a mat-list-item routerLink="/reserva"
        ><span class="material-icons"> event_seat </span> Reservas</a
      >

      <a mat-list-item routerLink="/servicios"
        ><span class="material-icons"> room_service </span>Servicios</a
      >

      <a mat-list-item routerLink="/habitaciones"
        ><span class="material-icons"> bed </span>Habitación</a
      >

      <a mat-list-item routerLink="/empleados">
        <span class="material-icons"> person </span>Empleado</a
      >

      <a mat-list-item routerLink="/cargos"
        ><span class="material-icons"> work_outline </span>Cargo</a
      >

      <a mat-list-item routerLink="/departamentos"
        ><span class="material-icons"> assignment </span>Departamento</a
      >

      <a mat-list-item routerLink="/users"
        ><span class="material-icons"> account_circle </span>Usuarios</a
      >

      <a mat-list-item routerLink="/reportes"
        ><span class="material-icons"> description </span> Reportes</a
      >

    </mat-nav-list>
    <mat-toolbar class="colorico"> </mat-toolbar>
    <mat-toolbar class="colorico"> </mat-toolbar>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar class="colors">
      <button
        type="button"
        aria-label="Toggle sidenav"
        mat-icon-button
      >
  <span class="example-spacer"></span>
      </button>
      <span class="fill-remaining-space"> </span>
      <span >   
  <a mat-button href="/login" 
><span class="material-icons">
logout
</span>Salir</a>

</span>

    </mat-toolbar>
    <mat-card-content>
<div class="largo">
    <form (ngSubmit)="submit()" [formGroup]="registroForm">
              <div class="card-body">
            <!--Espacio del botón de atrás-->
            <mat-card-header>
                <button
                  type="button"
                  aria-label="Toggle sidenav"
                  mat-icon-button
                  routerLink="/empleados"
                >
                 <span><span class="material-icons">arrow_back </span></span>
                </button>
                <h2 class="card-title">
                    Datos de Personal
                </h2>
            </mat-card-header> 

            <div class="form-row">

              <!--Nombre de empleado-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Nombre</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="nombres"
                      [(ngModel)]="empleado.nombres"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('nombres')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                            <span *ngIf="this.registroForm.get('nombres')?.hasError?.('minlength')">
                                (Debe tener como mínimo 3 caracteres)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                  
                </p>
              </div>
              <!--Apellido de empleado-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Apellidos</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="apellidos"
                      [(ngModel)]="empleado.apellidos"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('apellidos')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                            <span *ngIf="this.registroForm.get('apellidos')?.hasError?.('minlength')">
                                (Debe tener como mínimo 3 caracteres)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
            </div>

            <div class="form-row">

              <!--Fecha de nacimiento-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Fecha de Nacimiento</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="date"
                      class="form-control"
                      formControlName="fecha_nacimiento"
                      [(ngModel)]="empleado.fecha_nacimiento"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('fecha_nacimiento')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
              <!--Nacionalidad de empleado-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Nacionalidad</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="nacionalidad"
                      [(ngModel)]="empleado.nacionalidad"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('nacionalidad')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                            <span *ngIf="this.registroForm.get('nacionalidad')?.hasError?.('minlength')">
                                (Debe tener como mínimo 3 caracteres)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
            </div>

           <div class="form-row">

              <!--DUI empleado-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>DUI</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="dui"
                      [(ngModel)]="empleado.dui"
                      
                      
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('dui')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                            <span *ngIf="this.registroForm.get('dui')?.hasError?.('minlength')">
                                (Debe tener 9 caracteres)
                             </span>
                              <span *ngIf="this.registroForm.get('dui')?.hasError?.('maxlength')">
                                (Debe tener 9 caracteres)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                  
                </p>
              </div>
              <!--ISSS de empleado-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>ISSS</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="isss"
                      [(ngModel)]="empleado.isss"
                      mask= "000000000"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('isss')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                              <span *ngIf="this.registroForm.get('isss')?.hasError?.('maxlength')">
                                (Debe tener 9 caracteres)
                             </span>
                            <span *ngIf="this.registroForm.get('isss')?.hasError?.('minlength')">
                                (Debe tener 9 caracteres)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
            </div>

            <div class="form-row">

              <!--NUP de empleado-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>NUP</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="nup"
                      [(ngModel)]="empleado.nup"
                      mask= "000000000000"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('nup')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                            <span *ngIf="this.registroForm.get('nup')?.hasError?.('minlength')">
                                (Debe tener 12 caracteres)
                             </span>
                              <span *ngIf="this.registroForm.get('nup')?.hasError?.('maxlength')">
                                (Debe tener 12 caracteres)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                  
                </p>
              </div>
              <!--Telefono de empleado-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Teléfono</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="telefono"
                      [(ngModel)]="empleado.telefono"
                      mask= "0000-0000"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('telefono')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                            <span *ngIf="this.registroForm.get('telefono')?.hasError?.('minlength')">
                                (Debe tener 8 caracteres)
                             </span>
                              <span *ngIf="this.registroForm.get('telefono')?.hasError?.('maxlength')">
                                (Debe tener 9 caracteres)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
            </div>

            <div class="form-row">

              <!--Dirección-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Dirección</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="direccion"
                      [(ngModel)]="empleado.direccion"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('direccion')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
              <!--Ciudad-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Ciudad</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="ciudad"
                      [(ngModel)]="empleado.ciudad"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('ciudad')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
            </div>

           <div class="form-row">

              <!--Sexo-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="50"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Sexo</mat-label>

                    <mat-select
                     matInput
                      placeholder=""
                      type="text"
                      class="form-control"
                      formControlName="sexo"
                      [(ngModel)]="empleado.sexo"
                    required>                      
                     <mat-option value="f">Femenino </mat-option>
                     <mat-option value="m" >Masculino</mat-option> 
                     </mat-select>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('sexo')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
              <!--email-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Email</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="email"
                      class="form-control"
                      formControlName="email"
                      [(ngModel)]="empleado.email"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('email')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                             <span *ngIf="this.registroForm.get('email')?.hasError?.('email')">
                               (El formato debe ser xxxx@example.com)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
            </div>

            <div class="form-row">

              <!--Fecha de contratación-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="75"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Fecha de Contratación</mat-label>
                    <input
                      matInput
                      placeholder=""
                      type="date"
                      class="form-control"
                      formControlName="fecha_contratacion"
                      [(ngModel)]="empleado.fecha_contratacion"
                    required/>
                        <mat-hint>
                            <span *ngIf="this.registroForm.get('fecha_contratacion')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
            <!--Cargo-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    appearance="standard"
                    size="50"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Cargo</mat-label>

                    <mat-select
                    matInput
                    [(ngModel)]="empleado.id_cargo" 
                    name="Cargo" 
                    (change)="changeCargo($event)" 
                    class="form-control" 
                    formControlName="id_cargo"
                    placeholder=""
                    type="text"
                    required>     
                     <mat-option [value]="c.id" *ngFor="let c of cargo">{{c.nombre_cargo}} </mat-option>
                     </mat-select>
                     <mat-hint>
                            <span *ngIf="this.registroForm.get('id.cargo')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                         </mat-hint>
                     </mat-form-field>
                </p>
              </div>
              </div>
            
            <div class="form-row">
                <!--Departamento-->
              <div class="form-group col-md-5">
                <p>
                  <mat-form-field
                    size="50"
                    style="width: 400px; height: 50px"
                  >
                    <mat-label>Departamento</mat-label>

                    <mat-select
                    matInput
                    [(ngModel)]="empleado.id_departamento" 
                    name="Departamento" 
                    (change)="changeCargo($event)" 
                    class="form-control" 
                    formControlName="id_departamento"
                    placeholder="Seleccione"
                    type="text"
                    required>          
                     <mat-option [value]="d.id" *ngFor="let d of departamento">{{d.nombre_departamento}} </mat-option>
                     </mat-select>
                     <mat-hint>
                            <span *ngIf="this.registroForm.get('id.departamento')?.hasError?.('required')">
                               (El campo no puede quedar vacío)
                             </span>
                      </mat-hint>
                     </mat-form-field>
                </p>
              </div>
              </div>

           <div class="form-group col-md-2">
            <!--botons-->
            <button
              class="btn btn-info"
              (click)="create()"
              *ngIf="!empleado.id; else elseBlock"
              [disabled]="!registroForm.valid"
            >
              Registrar
            </button>
            <ng-template #elseBlock>
              <button class="btn btn-info" (click)="update()">Actualizar</button>
            </ng-template>
          </div>
          </div>

    </form>

</div>
    </mat-card-content>
  </mat-sidenav-content>
  
</mat-sidenav-container>

